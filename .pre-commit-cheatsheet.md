# Pre-commit - –®–ø–∞—Ä–≥–∞–ª–∫–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
pip install pre-commit
pre-commit install
```

## üìù –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å hooks
pre-commit install

# –£–¥–∞–ª–∏—Ç—å hooks
pre-commit uninstall

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
pre-commit run --all-files

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è staged —Ñ–∞–π–ª–æ–≤
pre-commit run

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π hook
pre-commit run black --all-files
pre-commit run flake8 --all-files

# –û–±–Ω–æ–≤–∏—Ç—å hooks –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π
pre-commit autoupdate

# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
pre-commit clean
```

## ‚ö° –ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞

```bash
# –û–±—ã—á–Ω—ã–π workflow
git add .
git commit -m "Your changes"
# Hooks –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

–ï—Å–ª–∏ hooks –Ω–∞—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º—ã–µ (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) ‚Üí –¥–æ–±–∞–≤—å—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: `git add . && git commit -m "..."`  
2. –¢—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –∫–æ–º–º–∏—Ç

## üîß –û–±—Ö–æ–¥ hooks (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)

```bash
# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å hooks –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
git commit --no-verify -m "message"

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π hook
SKIP=flake8 git commit -m "message"
```

## üìã –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

| Hook | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|------|------------|
| `black` | –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç Python –∫–æ–¥ |
| `isort` | –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–º–ø–æ—Ä—Ç—ã |
| `flake8` | –õ–∏–Ω—Ç–∏–Ω–≥ Python –∫–æ–¥–∞ |
| `check-yaml` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç YAML —Ñ–∞–π–ª—ã |
| `check-json` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç JSON —Ñ–∞–π–ª—ã |
| `trailing-whitespace` | –£–¥–∞–ª—è–µ—Ç –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã |
| `end-of-file-fixer` | –î–æ–±–∞–≤–ª—è–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–Ω—Ü–µ |
| `debug-statements` | –ù–∞—Ö–æ–¥–∏—Ç pdb, ipdb –∏ —Ç.–¥. |

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

```bash
# Hooks –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è?
pre-commit uninstall
pre-commit install --install-hooks

# –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?
pip install -r requirements.txt
pre-commit install --install-hooks

# –°–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ?
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SKIP –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö hooks
SKIP=flake8 git commit -m "message"
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- [–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](PRE_COMMIT.md)
- [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](.pre-commit-install.md)
- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç](https://pre-commit.com/)

