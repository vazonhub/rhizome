# Rhizome - –î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è P2P –°–µ—Ç—å –Ω–∞ Kademlia DHT

Rhizome - —ç—Ç–æ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–æ–Ω–∏–º–Ω–∞—è P2P —Å–µ—Ç—å –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ Kademlia DHT —Å —Å–∏—Å—Ç–µ–º–æ–π seed-—É–∑–ª–æ–≤.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üîí **–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- üé≠ **–ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å**: –°–∫—Ä—ã—Ç–∏–µ —Å–≤—è–∑–µ–π –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å-–ø–æ–ª—É—á–∞—Ç–µ–ª—å
- üîÑ **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- üìä **–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏—è –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- üöÄ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—ã—Å—è—á —É–∑–ª–æ–≤ –±–µ–∑ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone <repository-url>
   cd rhizome
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # Linux/Mac
   # –∏–ª–∏
   venv\Scripts\activate  # Windows
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -e ".[dev]"
   # –∏–ª–∏
   pip install -r requirements.txt
   pip install -e ".[dev]"
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   ```bash
   cp config.yaml.example config.yaml
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config.yaml –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã
   ```
   
   **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ —Ñ–∞–π–ª `config.yaml` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### –ó–∞–ø—É—Å–∫ —É–∑–ª–∞

**–ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫:**
```bash
python3 run_node.py
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ CLI:**
```bash
# –° —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞ —É–∑–ª–∞
python3 -m rhizome.cli --node-type full

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
python3 -m rhizome.cli --config /path/to/config.yaml

# –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∏–ø—ã —É–∑–ª–æ–≤: seed, full, light, mobile
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

Rhizome –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –∫–ª–∏–µ–Ω—Ç (`RhizomeClient`) –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç—å—é.

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```python
import asyncio
from rhizome import RhizomeClient

async def main():
    # –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞
    async with RhizomeClient(config_path="config.yaml") as client:
        # –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–¥–∞
        thread = await client.create_thread(
            thread_id="my_thread",
        title="–ú–æ–π –ø–µ—Ä–≤—ã–π —Ç—Ä–µ–¥",
            category="—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏",
            tags=["p2p", "python"]
        )
        
        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        message = await client.add_message(
            thread_id="my_thread",
            content="–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!"
        )
        
        # –ü–æ–∏—Å–∫ —Ç—Ä–µ–¥–∞
        found = await client.find_thread("my_thread")
        print(f"–ù–∞–π–¥–µ–Ω —Ç—Ä–µ–¥: {found.title}")

asyncio.run(main())
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã API

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–æ–º

- `start()` - –ó–∞–ø—É—Å–∫ —É–∑–ª–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏
- `stop()` - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —É–∑–ª–∞
- `get_node_info()` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É–∑–ª–µ

#### –†–∞–±–æ—Ç–∞ —Å —Ç—Ä–µ–¥–∞–º–∏

- `create_thread(thread_id, title, category, tags, ...)` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç—Ä–µ–¥–∞
- `find_thread(thread_id)` - –ü–æ–∏—Å–∫ —Ç—Ä–µ–¥–∞ –ø–æ ID
- `update_thread(thread_id, **updates)` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–¥–∞
- `search_threads(category, tags)` - –ü–æ–∏—Å–∫ —Ç—Ä–µ–¥–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º

#### –†–∞–±–æ—Ç–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

- `add_message(thread_id, content, parent_id, ...)` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ç—Ä–µ–¥
- `find_message(message_id)` - –ü–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ ID

#### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

- `get_global_threads()` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ç—Ä–µ–¥–æ–≤
- `update_global_threads(thread_ids)` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
- `get_popular_threads(limit)` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—Ä–µ–¥–æ–≤

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `examples/`:

- `examples/api_usage.py` - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ API
- `examples/two_nodes_demo.py` - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –¥–≤—É—Ö —É–∑–ª–æ–≤
- `examples/usage_examples.py` - –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å —É–∑–ª–∞–º–∏

## –¢–∏–ø—ã —É–∑–ª–æ–≤

- **seed** - –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –±–æ–ª—å—à–æ–π –æ–±—ä–µ–º –¥–∏—Å–∫–∞ (>100GB), –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- **full** - –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, —Å—Ä–µ–¥–Ω–∏–π –æ–±—ä–µ–º –¥–∏—Å–∫–∞ (>10GB)
- **light** - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã, –º–∞–ª—ã–π –æ–±—ä–µ–º –¥–∏—Å–∫–∞ (<1GB)
- **mobile** - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ª–µ–≥–∫–∏–π –∫–ª–∏–µ–Ω—Ç, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –¥–∏—Å–∫–∞ (<100MB)

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rhizome/
‚îú‚îÄ‚îÄ rhizome/              # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ api.py           # –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ config.py        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ cli.py           # –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ dht/             # –ú–æ–¥—É–ª—å Kademlia DHT
‚îÇ   ‚îú‚îÄ‚îÄ storage/         # –ú–æ–¥—É–ª—å —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ node/            # –ú–æ–¥—É–ª—å —É–∑–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ network/         # –°–µ—Ç–µ–≤–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª
‚îÇ   ‚îú‚îÄ‚îÄ popularity/      # –°–∏—Å—Ç–µ–º–∞ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ replication/     # –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ security/        # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îú‚îÄ‚îÄ tests/               # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ examples/            # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ config.yaml          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make install-dev

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
pip install -r requirements.txt
pip install -e ".[dev]"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit hooks (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
pip install pre-commit
pre-commit install
```

### –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make test
# –∏–ª–∏
pytest

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
make lint
# –∏–ª–∏
flake8 rhizome tests
mypy rhizome

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
make format
# –∏–ª–∏
black rhizome tests examples
isort rhizome tests examples

# –ó–∞–ø—É—Å–∫ —É–∑–ª–∞
make run
```

### Pre-commit Hooks

Pre-commit hooks –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ–¥ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º:

- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (Black)
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ (isort)
- –õ–∏–Ω—Ç–∏–Ω–≥ (flake8)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ YAML/JSON/TOML
- –ü–æ–∏—Å–∫ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
pip install pre-commit
pre-commit install
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
Hooks –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git commit`. –î–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:
```bash
pre-commit run --all-files
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π

- **DHT (dht/)**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ Kademlia DHT
  - `node.py` - Node ID –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞
  - `routing_table.py` - –¢–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (k-–±–∞–∫–µ—Ç—ã)
  - `protocol.py` - –û–ø–µ—Ä–∞—Ü–∏–∏ DHT (PING, FIND_NODE, FIND_VALUE, STORE)

- **Storage (storage/)**: –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
  - `storage.py` - –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ –±–∞–∑–µ LMDB —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π TTL
  - `data_types.py` - –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç—Ä–µ–¥–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
  - `keys.py` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏ DHT

- **Node (node/)**: –¢–∏–ø—ã —É–∑–ª–æ–≤
  - `base_node.py` - –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤
  - `seed_node.py`, `full_node.py`, `light_node.py`, `mobile_node.py` - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **Network (network/)**: –°–µ—Ç–µ–≤–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª
  - `transport.py` - UDP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
  - `protocol.py` - –ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

- **Popularity (popularity/)**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
  - `metrics.py` - –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫
  - `ranking.py` - –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - `exchanger.py` - –û–±–º–µ–Ω –º–µ—Ç—Ä–∏–∫–∞–º–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
pytest --cov=rhizome --cov-report=html

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_storage.py
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `config.yaml`:

```yaml
dht:
  k: 20                    # –†–∞–∑–º–µ—Ä k-–±–∞–∫–µ—Ç–∞
  alpha: 3                 # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  request_timeout: 10.0    # –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤

network:
  listen_port: 8468        # –ü–æ—Ä—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
  bootstrap_nodes: []      # –°–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –¥–ª—è bootstrap

node:
  node_type: "full"        # –¢–∏–ø —É–∑–ª–∞ (seed, full, light, mobile)

storage:
  data_dir: "data"         # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
  max_storage_size: 10737418240  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (10 GB)
  default_ttl: 86400       # –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (1 –¥–µ–Ω—å)

popularity:
  update_interval: 3600    # –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫
  popularity_threshold: 7.0  # –ü–æ—Ä–æ–≥ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "ModuleNotFoundError"

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
```bash
pip install -r requirements.txt
pip install -e ".[dev]"
```

### –û—à–∏–±–∫–∞ "Config file not found"

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```bash
cp config.yaml.example config.yaml
```

### –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç

–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `config.yaml`:
```yaml
network:
  listen_port: 8469  # –î—Ä—É–≥–æ–π –ø–æ—Ä—Ç
```

### Python –≤–µ—Ä—Å–∏—è

–ü—Ä–æ–µ–∫—Ç —Ç—Ä–µ–±—É–µ—Ç Python >= 3.10. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é:
```bash
python3 --version
```

## –ü—Ä–∏–º–µ—Ä—ã

### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä—É–º–∞

```python
async def create_forum():
    async with RhizomeClient() as client:
        # –°–æ–∑–¥–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        categories = ["—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–Ω–∞—É–∫–∞", "–∏—Å–∫—É—Å—Å—Ç–≤–æ"]
        
        for category in categories:
            thread = await client.create_thread(
                thread_id=f"category_{category}",
                title=f"–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {category}",
                category=category
            )
            print(f"–°–æ–∑–¥–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è: {thread.title}")
```

### –†–∞–±–æ—Ç–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

```python
async def add_comments():
    async with RhizomeClient() as client:
        thread_id = "discussion_1"
        
        # –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        root_msg = await client.add_message(
            thread_id=thread_id,
            content="–ù–∞—á–∞–ª–æ –æ–±—Å—É–∂–¥–µ–Ω–∏—è"
        )
        
        # –û—Ç–≤–µ—Ç—ã
        for i in range(5):
            await client.add_message(
                thread_id=thread_id,
                content=f"–û—Ç–≤–µ—Ç #{i+1}",
                parent_id=root_msg.id
            )
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- üìñ [CHANGELOG.md](CHANGELOG.md) - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìã [PLAN.md](PLAN.md) - –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- üîß [Makefile](Makefile) - –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`make test`)
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (`make format`)
6. –°–æ–∑–¥–∞–π—Ç–µ pull request

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## –ê–≤—Ç–æ—Ä—ã

Rhizome Team
